# sekiro-business

sekiro商业版本

## 文档
1. [快速体验](1.quick_start.md)
2. [基础文档](2.basic.md)

自2020年12月21日起，sekiro区分开源版本和商业版本两个版本进行开发。如果您是个人和工作室使用，使用开源版本足够满足您的需求。如果您对更高要求的高可用、性能优化、运维管理
资源监控、准入鉴权等企业级功能有需求。欢迎使用我们商业版的接入,商业版和开源版本的client协议保持兼容，你可以方便的从开源版切换到商业版(仅需要一句代码)。sekiro商业版可以满足更加大规模的调用。两个版本的对比如下：

|功能点|开源版|商业版|
|----|----|----|
|集群|只能单点|支持集群模式(最多可以部署10台服务器组件集群)|
|流量压缩|不支持传输压缩|支持多种出入口压缩算法,支持自定义传输压缩算法。大json调用带宽平均降低到开源版的1/10(这是开源版本核心瓶颈)|
|反序列化优化|使用fastjson进行数据反序列化|直接避免json反序列化，不消耗CPU(这是开源版本核心瓶颈)|
|数据转发|不支持|(暂未实现)支持sekiro数据转发到其他业务系统，mq或者http协议|
|调用监控|全部透传，不支持记录调用情况|各时间维度记录各渠道的调用情况，包括成功失败的率和量，包括整体暂用的消耗的qps、带宽、平均耗时|
|鉴权|公共接口，不支持鉴权|设备接入鉴权，API调用鉴权。ip白名单和token认证，并记录每个授权消耗的调用量|
|代码质量|最开始学习的时候抄的别人的demo，代码质量极其丑陋|总结三年项目迭代，多个公司需求重新设计架构，代码质量高，流程模块区分清晰，可读性高，性能高|
|一致性|client销毁暴力停止，部分请求发送无响应无限timeout| 架构上保证一致性，client销毁先摘流量，意外中断响应502|
|多协议|http --invoke-> ws/sekiro| http/ws/sekiro --invoke-> wx/sekiro (sekiro->sekiro 直接复用长链接通道，数据流中途不解压，sekiro服务器几乎不占用CPU资源)|

... 还有其他多种高级特性

如果你对商业版有需求，请加微信:(virjar1)进行咨询